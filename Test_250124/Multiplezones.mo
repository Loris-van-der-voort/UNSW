within Test_250124;
block Multiplezones
 package Medium=Buildings.Media.Air;
    extends .Modelica.Blocks.Icons.Block;
    .Buildings.ThermalZones.EnergyPlus_9_6_0.ThermalZone zon(zoneName = "Office_1",nPorts = 2) annotation(Placement(transformation(extent = {{-32.194872324933584,71.80512767506642},{-19.805127675066416,84.19487232493358}},origin = {0.0,0.0},rotation = 0.0)));
    .Buildings.ThermalZones.EnergyPlus_9_6_0.ThermalZone zon2(zoneName = "Office_2",nPorts = 2) annotation(Placement(transformation(extent = {{-32.67878762899296,23.321212371007043},{-19.321212371007043,36.67878762899296}},origin = {0.0,0.0},rotation = 0.0)));
    .Buildings.ThermalZones.EnergyPlus_9_6_0.ThermalZone zon3(zoneName = "Office_3",nPorts = 2) annotation(Placement(transformation(extent = {{-32.864477282774516,-22.19781061610785},{-19.135522717225484,-8.46885605055882}},origin = {0.0,0.0},rotation = 0.0)));
    .Buildings.ThermalZones.EnergyPlus_9_6_0.ThermalZone zon4(zoneName = "Office_4",nPorts = 2) annotation(Placement(transformation(extent = {{-32.00820942912041,-72.00820942912043},{-19.991790570879587,-59.99179057087957}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Blocks.Sources.Constant const annotation(Placement(transformation(extent = {{-164,-82},{-144,-62}},origin = {0,0},rotation = 0)));
    .Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor TempSenOffice4 "Air temperature sensor" annotation(Placement(transformation(extent = {{16.07435625547005,15.741022922136722},{31.92564374452995,31.59231041119662}},rotation = 0.0,origin = {0.0,0.0})));
    .Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor TempSenOffice2 "Air temperature sensor" annotation(Placement(transformation(extent = {{16.18204332397471,61.84870999064138},{31.81795667602529,77.48462334269196}},rotation = 0.0,origin = {0.0,0.0})));
    .Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor TempSenOffice3 "Air temperature sensor" annotation(Placement(transformation(extent = {{16.18204332397471,37.84870999064138},{31.81795667602529,53.48462334269196}},rotation = 0.0,origin = {0.0,0.0})));
    .Modelica.Blocks.Routing.Multiplex4 multiplex annotation(Placement(transformation(extent = {{62.0,47.66666666666667},{82.0,67.66666666666667}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Blocks.Interfaces.RealOutput TRoomAir annotation(Placement(transformation(extent = {{95.36059650983074,33.36059650983073},{140.63940349016926,78.63940349016927}},origin = {0.0,0.0},rotation = 0.0)));
    inner .Buildings.ThermalZones.EnergyPlus_9_6_0.Building building(idfName = Modelica.Utilities.Files.loadResource("modelica://Test_250124/Resources/in9.6.idf"),weaName = Modelica.Utilities.Files.loadResource("modelica://Test_250124/Resources/AUS_NSW_Sydney.Obs-Observatory.Hill.947680_TMYx.mos"),epwName = Modelica.Utilities.Files.loadResource("modelica://Test_250124/Resources/AUS_NSW_Sydney.Obs-Observatory.Hill.947680_TMYx.epw")) annotation(Placement(transformation(extent = {{0.0,192.0},{20.0,212.0}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor TempSenOffice1 "Air temperature sensor" annotation(Placement(transformation(extent = {{16.18204332397471,85.84870999064138},{31.81795667602529,101.48462334269196}},rotation = 0.0,origin = {0.0,0.0})));
    .Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a port_a2 annotation(Placement(transformation(extent = {{-63.436417667832146,4.563582332167856},{-48.563582332167854,19.436417667832146}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a port_a3 annotation(Placement(transformation(extent = {{-63.57377933873104,-38.90711267206438},{-48.42622066126896,-23.759553994602292}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a port_a4 annotation(Placement(transformation(extent = {{-63.11783337001199,-95.11783337001197},{-48.88216662998801,-80.88216662998803}},origin = {0.0,0.0},rotation = 0.0)));
    .Buildings.Examples.VAVReheat.BaseClasses.RoomLeakage leaOffice2(use_windPressure = use_windPressure,azi = .Buildings.Types.Azimuth.S,s = 27.69 / 18.46,VRoo = VRooSou,redeclare package Medium = Medium) "Model for air infiltration through the envelope" annotation(Placement(transformation(extent = {{-54.39999999999998,167.39999999999998},{-18.399999999999977,207.39999999999998}},rotation = 0.0,origin = {0.0,0.0})));
    .Buildings.Examples.VAVReheat.BaseClasses.RoomLeakage leaOffice(redeclare package Medium = Medium,VRoo = VRooSou,s = 27.69 / 18.46,azi = .Buildings.Types.Azimuth.S,use_windPressure = use_windPressure) "Model for air infiltration through the envelope" annotation(Placement(transformation(extent = {{-54.39999999999998,211.39999999999998},{-18.399999999999977,251.39999999999998}},rotation = 0.0,origin = {0.0,0.0})));
    .Buildings.Examples.VAVReheat.BaseClasses.RoomLeakage leaOffice3(redeclare package Medium = Medium,VRoo = VRooSou,s = 27.69 / 18.46,azi = .Buildings.Types.Azimuth.S,use_windPressure = use_windPressure) "Model for air infiltration through the envelope" annotation(Placement(transformation(extent = {{-52.39999999999998,122.39999999999998},{-16.399999999999977,162.39999999999998}},rotation = 0.0,origin = {0.0,0.0})));
    .Buildings.Examples.VAVReheat.BaseClasses.RoomLeakage leaOffice4(redeclare package Medium = Medium,VRoo = VRooSou,s = 27.69 / 18.46,azi = .Buildings.Types.Azimuth.S,use_windPressure = use_windPressure) "Model for air infiltration through the envelope" annotation(Placement(transformation(extent = {{-54.39999999999998,79.39999999999998},{-18.399999999999977,119.39999999999998}},rotation = 0.0,origin = {0.0,0.0})));
    .Buildings.BoundaryConditions.WeatherData.Bus weaBus annotation(Placement(transformation(extent = {{-118.97580812424057,76.82419187575938},{-73.82419187575938,121.97580812424057}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b ports_b annotation(Placement(transformation(extent = {{-42.78317832473776,49.20872578807679},{-9.216821675262235,70.79127421192321}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b ports_b2 annotation(Placement(transformation(extent = {{-42.217346704948525,1.5725450867088036},{-9.782653295051475,22.427454913291196}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b ports_b3 annotation(Placement(transformation(extent = {{-42.47025944477244,-41.92340647508639},{-9.529740555227562,-20.743260191580283}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b ports_b4 annotation(Placement(transformation(extent = {{-42.26724128966181,-98.45953621129763},{-9.732758710338189,-77.54046378870237}},origin = {0.0,0.0},rotation = 0.0)));
    .Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a port_a annotation(Placement(transformation(extent = {{-63.24323430558087,52.75676569441913},{-48.75676569441913,67.24323430558087}},origin = {0.0,0.0},rotation = 0.0)));
equation
    connect(const.y,zon.qGai_flow[1]) annotation(Line(points = {{-143,-72},{-95.5,-72},{-95.5,81.09743616246679},{-32.81435955742694,81.09743616246679}},color = {0,0,127}));
    connect(const.y,zon.qGai_flow[2]) annotation(Line(points = {{-143,-72},{-95.5,-72},{-95.5,81.09743616246679},{-32.81435955742694,81.09743616246679}},color = {0,0,127}));
    connect(const.y,zon.qGai_flow[3]) annotation(Line(points = {{-143,-72},{-95.5,-72},{-95.5,81.09743616246679},{-32.81435955742694,81.09743616246679}},color = {0,0,127}));
    connect(const.y,zon2.qGai_flow[1]) annotation(Line(points = {{-143,-72},{-95.5,-72},{-95.5,33.339393814496475},{-33.346666391892256,33.339393814496475}},color = {0,0,127}));
    connect(const.y,zon2.qGai_flow[2]) annotation(Line(points = {{-143,-72},{-95.5,-72},{-95.5,33.339393814496475},{-33.346666391892256,33.339393814496475}},color = {0,0,127}));
    connect(const.y,zon2.qGai_flow[3]) annotation(Line(points = {{-143,-72},{-95.5,-72},{-95.5,33.339393814496475},{-33.346666391892256,33.339393814496475}},color = {0,0,127}));
    connect(const.y,zon3.qGai_flow[1]) annotation(Line(points = {{-143,-72},{-96,-72},{-96,-11.901094691946078},{-33.550925011051966,-11.901094691946078}},color = {0,0,127}));
    connect(const.y,zon3.qGai_flow[2]) annotation(Line(points = {{-143,-72},{-96.5,-72},{-96.5,-11.901094691946078},{-33.550925011051966,-11.901094691946078}},color = {0,0,127}));
    connect(const.y,zon3.qGai_flow[3]) annotation(Line(points = {{-143,-72},{-96.5,-72},{-96.5,-11.901094691946078},{-33.550925011051966,-11.901094691946078}},color = {0,0,127}));
    connect(const.y,zon4.qGai_flow[1]) annotation(Line(points = {{-143,-72},{-95.5,-72},{-95.5,-62.99589528543979},{-32.60903037203246,-62.99589528543979}},color = {0,0,127}));
    connect(const.y,zon4.qGai_flow[2]) annotation(Line(points = {{-143,-72},{-95.5,-72},{-95.5,-62.99589528543979},{-32.60903037203246,-62.99589528543979}},color = {0,0,127}));
    connect(const.y,zon4.qGai_flow[3]) annotation(Line(points = {{-143,-72},{-95.5,-72},{-95.5,-62.99589528543979},{-32.60903037203246,-62.99589528543979}},color = {0,0,127}));
    connect(TempSenOffice4.port,zon4.heaPorAir) annotation(Line(points = {{16.07435625547005,23.66666666666667},{86,23.66666666666667},{86,-66},{-26,-66}},color = {191,0,0}));
    connect(TempSenOffice3.port,zon3.heaPorAir) annotation(Line(points = {{16.18204332397471,45.66666666666667},{78,45.66666666666667},{78,-15.333333333333336},{-26,-15.333333333333336}},color = {191,0,0}));
    connect(TempSenOffice2.port,zon2.heaPorAir) annotation(Line(points = {{16.18204332397471,69.66666666666667},{72,69.66666666666667},{72,30},{-26,30}},color = {191,0,0}));
    connect(TempSenOffice2.T,multiplex.u2[1]) annotation(Line(points = {{32.59975234362781,69.66666666666667},{46.29987617181391,69.66666666666667},{46.29987617181391,60.66666666666667},{60,60.66666666666667}},color = {0,0,127}));
    connect(TempSenOffice3.T,multiplex.u3[1]) annotation(Line(points = {{32.59975234362781,45.66666666666667},{46.29987617181391,45.66666666666667},{46.29987617181391,54.66666666666667},{60,54.66666666666667}},color = {0,0,127}));
    connect(TempSenOffice4.T,multiplex.u4[1]) annotation(Line(points = {{32.71820811898294,23.66666666666667},{60,23.66666666666667},{60,48.66666666666667}},color = {0,0,127}));
    connect(multiplex.y[1],TRoomAir) annotation(Line(points = {{83,57.666666666666664},{118,57.666666666666664},{118,56}},color = {0,0,127}));
    connect(TempSenOffice1.T,multiplex.u1[1]) annotation(Line(points = {{32.59975234362781,93.66666666666667},{60,93.66666666666667},{60,66.66666666666667}},color = {0,0,127}));
    connect(TempSenOffice1.port,zon.heaPorAir) annotation(Line(points = {{16.18204332397471,93.66666666666667},{-26,93.66666666666667},{-26,78}},color = {191,0,0}));
    connect(port_a2,zon2.heaPorAir) annotation(Line(points = {{-56,12},{-56,-6},{-26,-6},{-26,30}},color = {191,0,0}));
    connect(port_a3,zon3.heaPorAir) annotation(Line(points = {{-56,-31.333333333333336},{-56,-77.33333333333334},{-26,-77.33333333333334},{-26,-15.333333333333336}},color = {191,0,0}));
    connect(port_a4,zon4.heaPorAir) annotation(Line(points = {{-56,-88},{-56,-98},{-26,-98},{-26,-66}},color = {191,0,0}));
    connect(leaOffice.port_b,zon.ports[1]) annotation(Line(points = {{-18.399999999999977,231.39999999999998},{-126,231.39999999999998},{-126,30.9},{-26,30.9},{-26,72.08389692968842}},color = {0,127,255}));
    connect(leaOffice2.port_b,zon2.ports[1]) annotation(Line(points = {{-18.399999999999977,187.39999999999998},{-128,187.39999999999998},{-128,-45.1},{-26,-45.1},{-26,23.621757814311728}},color = {0,127,255}));
    connect(leaOffice3.port_b,zon3.ports[1]) annotation(Line(points = {{-16.399999999999977,142.39999999999998},{-128,142.39999999999998},{-128,-98},{-26,-98},{-26,-21.888909138383}},color = {0,127,255}));
    connect(leaOffice4.port_b,zon4.ports[1]) annotation(Line(points = {{-18.399999999999977,99.39999999999998},{-128,99.39999999999998},{-128,-98},{-26,-98},{-26,-71.73784000481001}},color = {0,127,255}));
    connect(leaOffice4.weaBus,weaBus) annotation(Line(points = {{-54.39999999999998,99.39999999999998},{-96.39999999999998,99.39999999999998}},color = {255,204,51}));
    connect(leaOffice3.weaBus,weaBus) annotation(Line(points = {{-52.39999999999998,142.39999999999998},{-74.39999999999998,142.39999999999998},{-74.39999999999998,99.39999999999998},{-96.39999999999998,99.39999999999998}},color = {255,204,51}));
    connect(leaOffice2.weaBus,weaBus) annotation(Line(points = {{-54.39999999999998,187.39999999999998},{-72.39999999999998,187.39999999999998},{-72.39999999999998,99.39999999999998},{-96.39999999999998,99.39999999999998}},color = {255,204,51}));
    connect(leaOffice.weaBus,weaBus) annotation(Line(points = {{-54.39999999999998,231.39999999999998},{-73.39999999999998,231.39999999999998},{-73.39999999999998,99.39999999999998},{-96.39999999999998,99.39999999999998}},color = {255,204,51}));
    connect(zon.ports[2],ports_b) annotation(Line(points = {{-26,72.08389692968842},{-26,60}},color = {0,127,255}));
    connect(zon2.ports[2],ports_b2) annotation(Line(points = {{-26,23.621757814311728},{-26,12}},color = {0,127,255}));
    connect(zon3.ports[2],ports_b3) annotation(Line(points = {{-26,-21.888909138383},{-26,-31.333333333333336}},color = {0,127,255}));
    connect(zon4.ports[2],ports_b4) annotation(Line(points = {{-26,-71.73784000481001},{-26,-88}},color = {0,127,255}));
    connect(port_a,zon.heaPorAir) annotation(Line(points = {{-56,60},{-26,60},{-26,78}},color = {191,0,0}));
    annotation(Icon(graphics = {Rectangle(extent={{100,-100},{-100,100}})}));
end Multiplezones;
